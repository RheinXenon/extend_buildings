# 城乡结合部（Urban-Rural Junction）建筑设计

## 建筑概况

**建筑名称**: 城乡结合部 (urban_rural_junction)
**建筑类型**: 基础设施建筑
**主要功能**: 增加地区建筑槽位上限
**建筑等级**: 不限（根据人口上限决定）
**解锁条件**: 游戏开始时即可用

## 设计理念

城乡结合部代表城市与乡村交界处的过渡区域，这些区域具有较高的土地利用效率，可以支持更多建筑的建设。通过建设更多的城乡结合部，能够扩大城市/集镇的建设容量，允许玩家建造更多建筑。

### 核心机制

1. **建筑槽位扩展**：每级城乡结合部增加10个建筑槽位
2. **人口依赖**：建筑数量上限由当地人口规模决定
3. **农民驱动**：依靠农民阶层来运营和维护
4. **资源消耗**：需要持续消耗石砖和工具维护基础设施

## 功能设计

### 主要效果

- **建筑槽位增加**: +10 / 级
- **适用范围**: 城市 (city) 和集镇 (town)
- **执行阶层**: 农民 (peasants)
- **人力需求**: 250人 / 级

### 资源消耗

**维护成本** (每级):

- 石砖 (bricks): 0.1
- 工具 (tools): 0.1

**设计理由**:

- 石砖用于道路、地基等基础设施建设
- 工具用于日常维护和施工作业
- 总消耗0.2单位，体现基础设施的维护成本

## 建筑上限设计

### 上限计算方式

建筑数量上限应基于**当地人口数量**，参考游戏中其他建筑的设置方式：

```
location_potential = {
    # 示例：人口至少1000才能建第一级
    location_population > 1000
}

max_level_at_location = {
    value = 0
    # 每5000人口可建1级（可调整）
    add = location_population
    divide = 5000
    floor = yes
}
```

### 建筑限制

- **仅限城市和集镇**: 不适用于农村聚落
- **人口门槛**: 需要一定规模的人口才能建设
- **动态上限**: 随着人口增长，可建造更多等级

## 游戏平衡性考虑

### 优点

1. **扩展性**: 为玩家提供更多建筑空间，提升游戏策略深度
2. **人口驱动**: 鼓励人口增长，符合城市发展逻辑
3. **资源平衡**: 消耗基础资源，不会破坏经济平衡
4. **阶层应用**: 为农民阶层提供额外的就业岗位

### 平衡考虑

1. **槽位增长**: +10槽位/级可能较多，建议测试平衡性
2. **人口要求**: 确保高等级城市才能建造大量此建筑
3. **成本收益**: 玩家需权衡维护成本与额外建筑槽位的价值
4. **游戏进程**: 避免早期过度扩张，保持游戏挑战性

## 实现要点

### 建筑定义关键属性

```
urban_rural_junction = {
    category = infrastructure_category
    pop_type = peasants
    employment_size = 250  # 每级250人
  
    city = yes
    town = yes
    rural_settlement = no  # 不适用于农村
  
    # 增加建筑槽位
    modifier = {
        local_building_slots = 10  # 每级+10槽位
    }
  
    # 人口上限控制
    max_level_at_location = {
        value = 0
        add = location_population
        divide = 5000  # 每5000人口可建1级
        floor = yes
    }
}
```

### 生产方式定义

```
urban_rural_junction_maintenance = {
    bricks = 0.1   # 石砖消耗
    tools = 0.1    # 工具消耗
  
    category = building_maintenance
}
```

## 本地化命名建议

- **英文**: Urban-Rural Junction
- **中文**: 城乡结合部
- **描述**: 城市与乡村的过渡区域，提供额外的建筑用地，扩大城市建设容量。
