# 居民署（Resident Office）生产方式设计

## 建筑概况

**建筑名称**: 居民署 (resident_office)
**建筑类型**: 基础设施建筑
**主要功能**: 提高人口增长率
**当前效果**: local_population_growth = 0.01 (1%人口增长)
**需要改基础效果为**: local_population_growth = 0.005 (0.5%人口增长)

## 设计理念

居民署作为一个管理和服务居民的行政建筑，其主要目标是促进人口增长。为了实现这一目标，它需要消耗各种资源来：

1. 维护建筑设施（基础设施材料）
2. 提供维护工具（工具和设备）
3. 提供基本生活物资（布料、日用品）

## 参考案例分析

### 1. 殖民地建筑（settlement_building）

- **资源消耗**: stone 0.1, lumber 0.1, wild_game 0.1, wool 0.1
- **效果**: local_population_growth = 0.01
- **特点**: 边疆殖民地，资源消耗较为基础

### 2. 灌溉系统（irrigation_systems）

- **资源消耗**: tools 0.1
- **效果**: local_population_capacity = 1.0, local_monthly_food_modifier = 0.05
- **特点**: 简单维护，主要靠工具

### 3. 医院（hospital_maintenance）

- **资源消耗**: fiber_crops 0.1, tools 0.02, medicaments 0.02, mercury 0.01
- **特点**: 多样化资源消耗，涉及医疗设施

### 4. 修道院（monastery_maintenance）

- **资源消耗**: glass 0.025, cloth 0.025, beer 0.1, beeswax 0.05
- **特点**: 文化和宗教建筑，消耗精细物品

## 生产方式设计方案

### 方案一：基础居民服务（推荐）

**名称**: `basic_resident_services`

**资源消耗**:

```
lumber = 0.1         # 建筑维护和燃料
tools = 0.1         # 基础工具和维护设备
cloth = 0.1          # 基本生活物资（衣物等）
```

**设计理由**:

- **lumber 0.1**: 用于建筑维护、取暖和基本设施建设，与colony_maintenance保持一致
- **tools 0.1**: 基础维护工具，提供必要的维护和管理设备
- **cloth 0.1**: 为新增人口提供基本衣物和生活用品

**总消耗量**: 0.3单位，体现了基础行政建筑的维护成本

---

### 方案二：改进居民服务

**名称**: `improved_resident_services`
**前置科技**: 可通过advances解锁（如行政改革相关科技）

**资源消耗**:

```
lumber = 0.1         # 建筑维护
tools = 0.2         # 更多维护设备
cloth = 0.15         # 更好的生活物资
```

**额外效果建议**:

```
local_population_growth = +0.002  # 在建筑基础上额外+0.2%
或
local_disease_resistance = +0.05  # 降低疾病影响
```

**设计理由**:

- 通过更好的设施和工具提供更优质的居民服务
- 适合经济发达、资源充足的地区使用

---

### 方案三：高级人口管理（可选）

**名称**: `advanced_population_management`
**前置科技**: 需要更高级的科技解锁

**资源消耗**:

```
lumber = 0.15        # 更大规模的设施维护
tools = 0.3         # 完善的工具设备
cloth = 0.25          # 高质量生活物资
```

**额外效果建议**:

```
local_population_growth = +0.005  # 额外+0.5%
local_disease_resistance = +0.08  # 显著降低疾病影响
```

**设计理由**:

- 最全面的人口管理方案，使用高质量设施和工具
- 适合富裕的城市地区，体现先进的公共管理水平

---

## 推荐实施方案

### 阶段一：仅实现基础方案

先实现**方案一：基础居民服务**，这是最平衡且易于实施的方案。

### 阶段二：添加升级路径

如果游戏体验良好，可以后续添加方案二作为可升级的生产方式，通过advances科技树解锁。

### 阶段三：完善系统（可选）

如果需要更复杂的机制，可以考虑方案三，但需要注意平衡性。

## 与游戏机制的适配性

### 优点：

1. **资源多样性**: 消耗的资源类型合理，都是基础且常见的物资
2. **成本平衡**: 总消耗量与同类建筑相当，不会过高或过低
3. **逻辑合理**: 所有消耗资源都与人口管理和居民服务直接相关
4. **不产出商品**: 符合用户需求，建筑的价值在于人口增长buff而非物质产出

### 注意事项：

1. **平衡性测试**: 建议在游戏中测试，确保不会破坏经济平衡
2. **地区适用性**: 基础方案应适用于大多数地区，避免过于依赖稀有资源
3. **开始就解锁这三种生产方式**

## 实现代码参考

```
resident_office = {
    is_foreign = no
    max_levels = 1
    pop_type = peasants
  
    category = infrastructure_category
    employment_size = tiny_rural_peasant_produce_employment
  
    rural_settlement = yes
    town = yes
    city = yes
  
    location_potential = {
        location_population_percentage < 0.60
    }
    remove_if = {
        location = {
            location_population_percentage > 0.60
        }
    }
  
    # 基础生产方式
    unique_production_methods = {
        basic_resident_services = {
            lumber = 0.1
            tools = 0.08
            cloth = 0.1
          
            category = building_maintenance
        }
      
        # 未来可添加更多生产方式
        # improved_resident_services = {
        #     # unlocked by resident_services_advance
        #     lumber = 0.1
        #     tools = 0.12
        #     cloth = 0.15
        #   
        #     category = building_maintenance
        # }
    }
  
    construction_demand = colony_construction
    build_time = village_build_time
  
    modifier = {
        local_population_growth = 0.01
    }
}
```
